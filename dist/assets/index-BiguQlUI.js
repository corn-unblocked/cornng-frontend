(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();const Zt="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zt);const Qt=2,m=Symbol(),Xt="http://www.w3.org/1999/xhtml",ct=!1;var vt=Array.isArray,er=Array.prototype.indexOf,tr=Array.from,Me=Object.defineProperty,fe=Object.getOwnPropertyDescriptor,rr=Object.getOwnPropertyDescriptors,nr=Object.prototype,sr=Array.prototype,dt=Object.getPrototypeOf,Ze=Object.isExtensible;function ar(e){for(var t=0;t<e.length;t++)e[t]()}function ir(){var e,t,r=new Promise((n,a)=>{e=n,t=a});return{promise:r,resolve:e,reject:t}}const T=2,Fe=4,De=8,he=16,j=32,ae=64,ht=128,N=256,ge=512,y=1024,P=2048,ee=4096,$=8192,ie=16384,qe=32768,We=65536,Qe=1<<17,or=1<<18,Be=1<<19,pt=1<<20,Re=1<<21,je=1<<22,G=1<<23,we=Symbol("$state"),Ve=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function lr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function ur(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function fr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function cr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function vr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function dr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _r(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function _t(e){return e===this.v}let wr=!1,I=null;function be(e){I=e}function ke(e,t=!1,r){I={p:I,c:null,e:null,s:e,x:null,l:null}}function Pe(e){var t=I,r=t.e;if(r!==null){t.e=null;for(var n of r)Ot(n)}return I=t.p,{}}function wt(){return!0}const gr=new WeakMap;function br(e){var t=_;if(t===null)return h.f|=G,e;if((t.f&qe)===0){if((t.f&ht)===0)throw!t.parent&&e instanceof Error&&gt(e),e;t.b.error(e)}else He(e,t)}function He(e,t){for(;t!==null;){if((t.f&ht)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&gt(e),e}function gt(e){const t=gr.get(e);t&&(Me(e,"message",{value:t.message}),Me(e,"stack",{value:t.stack}))}let me=[];function mr(){var e=me;me=[],ar(e)}function bt(e){me.length===0&&queueMicrotask(mr),me.push(e)}function yr(){for(var e=_.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&lr(),e}function mt(e){var t=T|P,r=h!==null&&(h.f&T)!==0?h:null;return _===null||r!==null&&(r.f&N)!==0?t|=N:_.f|=Be,{ctx:I,deps:null,effects:null,equals:_t,f:t,fn:e,reactions:null,rv:0,v:m,wv:0,parent:r??_,ac:null}}function xr(e,t){let r=_;r===null&&ur();var n=r.b,a=void 0,s=Pt(m),o=null,l=!h;return Ur(()=>{try{var i=e()}catch(v){i=Promise.reject(v)}var u=()=>i;a=o?.then(u,u)??Promise.resolve(i),o=a;var f=M,d=n.pending;l&&(n.update_pending_count(1),d||f.increment());const c=(v,p=void 0)=>{o=null,d||f.activate(),p?p!==Ve&&(s.f|=G,Ne(s,p)):((s.f&G)!==0&&(s.f^=G),Ne(s,v)),l&&(n.update_pending_count(-1),d||f.decrement()),Et()};if(a.then(c,v=>c(null,v||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(i=>{function u(f){function d(){f===a?i(s):u(a)}f.then(d,d)}u(a)})}function Er(e){const t=mt(e);return qt(t),t}function yt(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)X(t[r])}}function kr(e){for(var t=e.parent;t!==null;){if((t.f&T)===0)return t;t=t.parent}return null}function Ye(e){var t,r=_;K(kr(e));try{yt(e),t=jt(e)}finally{K(r)}return t}function xt(e){var t=Ye(e);if(e.equals(t)||(e.v=t,e.wv=Wt()),!oe)if(se!==null)se.set(e,e.v);else{var r=(H||(e.f&N)!==0)&&e.deps!==null?ee:y;x(e,r)}}function Pr(e,t,r){const n=mt;if(t.length===0){r(e.map(n));return}var a=M,s=_,o=Sr(),l=yr();Promise.all(t.map(i=>xr(i))).then(i=>{a?.activate(),o();try{r([...e.map(n),...i])}catch(u){(s.f&ie)===0&&He(u,s)}a?.deactivate(),Et()}).catch(i=>{l.error(i)})}function Sr(){var e=_,t=h,r=I;return function(){K(e),D(t),be(r)}}function Et(){K(null),D(null),be(null)}const _e=new Set;let M=null,se=null,Xe=new Set,ye=[];function kt(){const e=ye.shift();ye.length>0&&queueMicrotask(kt),e()}let le=[],$e=null,Oe=!1;class ve{#t=new Map;#e=new Map;#s=new Set;#r=0;#a=null;#i=!1;#n=[];#f=[];#l=[];#o=[];#u=[];skipped_effects=new Set;#v(t){le=[];var r=null;if(_e.size>1){r=new Map,se=new Map;for(const[s,o]of this.#t)r.set(s,{v:s.v,wv:s.wv}),s.v=o;for(const s of _e)if(s!==this)for(const[o,l]of s.#e)r.has(o)||(r.set(o,{v:o.v,wv:o.wv}),o.v=l)}for(const s of t)this.#d(s);if(this.#n.length===0&&this.#r===0){var n=this.#l,a=this.#o;this.#l=[],this.#o=[],this.#u=[],this.#c(),et(n),et(a),this.#a?.resolve()}else{for(const s of this.#l)x(s,y);for(const s of this.#o)x(s,y);for(const s of this.#u)x(s,y)}if(r){for(const[s,{v:o,wv:l}]of r)s.wv<=l&&(s.v=o);se=null}for(const s of this.#n)ce(s);for(const s of this.#f)ce(s);this.#n=[],this.#f=[]}#d(t){t.f^=y;for(var r=t.first;r!==null;){var n=r.f,a=(n&(j|ae))!==0,s=a&&(n&y)!==0,o=s||(n&$)!==0||this.skipped_effects.has(r);if(!o&&r.fn!==null){if(a)r.f^=y;else if((n&Fe)!==0)this.#o.push(r);else if(Se(r))if((n&je)!==0){var l=r.b?.pending?this.#f:this.#n;l.push(r)}else(r.f&he)!==0&&this.#u.push(r),ce(r);var i=r.first;if(i!==null){r=i;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}}capture(t,r){this.#e.has(t)||this.#e.set(t,r),this.#t.set(t,t.v)}activate(){M=this}deactivate(){M=null;for(const t of Xe)if(Xe.delete(t),t(),M!==null)break}neuter(){this.#i=!0}flush(){le.length>0?this.flush_effects():this.#c(),M===this&&(this.#r===0&&_e.delete(this),this.deactivate())}flush_effects(){var t=ne;Oe=!0;try{var r=0;for(rt(!0);le.length>0;){if(r++>1e3){var n,a;Cr()}this.#v(le),J.clear()}}finally{Oe=!1,rt(t),$e=null}}#c(){if(!this.#i)for(const t of this.#s)t();this.#s.clear()}increment(){this.#r+=1}decrement(){if(this.#r-=1,this.#r===0){for(const t of this.#l)x(t,P),Y(t);for(const t of this.#o)x(t,P),Y(t);for(const t of this.#u)x(t,P),Y(t);this.#l=[],this.#o=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#a??=ir()).promise}static ensure(t=!0){if(M===null){const r=M=new ve;_e.add(M),t&&ve.enqueue(()=>{M===r&&r.flush()})}return M}static enqueue(t){ye.length===0&&queueMicrotask(kt),ye.unshift(t)}}function Cr(){try{dr()}catch(e){He(e,$e)}}function et(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(ie|$))===0&&Se(n)){var a=xe;if(ce(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Lt(n):n.fn=null),xe>a&&(n.f&pt)!==0)break}}for(;r<t;r+=1)Y(e[r])}}function Y(e){for(var t=$e=e;t.parent!==null;){t=t.parent;var r=t.f;if(Oe&&t===_&&(r&he)!==0)return;if((r&(ae|j))!==0){if((r&y)===0)return;t.f^=y}}le.push(t)}const J=new Map;function Pt(e,t){var r={f:0,v:e,reactions:null,equals:_t,rv:0,wv:0};return r}function w(e,t){const r=Pt(e);return qt(r),r}function g(e,t,r=!1){h!==null&&(!F||(h.f&Qe)!==0)&&wt()&&(h.f&(T|he|je|Qe))!==0&&!B?.includes(e)&&_r();let n=r?z(t):t;return Ne(e,n)}function Ne(e,t){if(!e.equals(t)){var r=e.v;oe?J.set(e,t):J.set(e,r),e.v=t,ve.ensure().capture(e,r),(e.f&T)!==0&&((e.f&P)!==0&&Ye(e),x(e,(e.f&N)===0?y:ee)),e.wv=Wt(),St(e,P),_!==null&&(_.f&y)!==0&&(_.f&(j|ae))===0&&(R===null?Vr([e]):R.push(e))}return t}function Ce(e){g(e,e.v+1)}function St(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,a=0;a<n;a++){var s=r[a],o=s.f;(o&P)===0&&x(s,t),(o&T)!==0?St(s,ee):(o&P)===0&&Y(s)}}function z(e){if(typeof e!="object"||e===null||we in e)return e;const t=dt(e);if(t!==nr&&t!==sr)return e;var r=new Map,n=vt(e),a=w(0),s=Z,o=l=>{if(Z===s)return l();var i=h,u=Z;D(null),st(s);var f=l();return D(i),st(u),f};return n&&r.set("length",w(e.length)),new Proxy(e,{defineProperty(l,i,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&hr();var f=r.get(i);return f===void 0?f=o(()=>{var d=w(u.value);return r.set(i,d),d}):g(f,u.value,!0),!0},deleteProperty(l,i){var u=r.get(i);if(u===void 0){if(i in l){const f=o(()=>w(m));r.set(i,f),Ce(a)}}else g(u,m),Ce(a);return!0},get(l,i,u){if(i===we)return e;var f=r.get(i),d=i in l;if(f===void 0&&(!d||fe(l,i)?.writable)&&(f=o(()=>{var v=z(d?l[i]:m),p=w(v);return p}),r.set(i,f)),f!==void 0){var c=b(f);return c===m?void 0:c}return Reflect.get(l,i,u)},getOwnPropertyDescriptor(l,i){var u=Reflect.getOwnPropertyDescriptor(l,i);if(u&&"value"in u){var f=r.get(i);f&&(u.value=b(f))}else if(u===void 0){var d=r.get(i),c=d?.v;if(d!==void 0&&c!==m)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(l,i){if(i===we)return!0;var u=r.get(i),f=u!==void 0&&u.v!==m||Reflect.has(l,i);if(u!==void 0||_!==null&&(!f||fe(l,i)?.writable)){u===void 0&&(u=o(()=>{var c=f?z(l[i]):m,v=w(c);return v}),r.set(i,u));var d=b(u);if(d===m)return!1}return f},set(l,i,u,f){var d=r.get(i),c=i in l;if(n&&i==="length")for(var v=u;v<d.v;v+=1){var p=r.get(v+"");p!==void 0?g(p,m):v in l&&(p=o(()=>w(m)),r.set(v+"",p))}if(d===void 0)(!c||fe(l,i)?.writable)&&(d=o(()=>w(void 0)),g(d,z(u)),r.set(i,d));else{c=d.v!==m;var k=o(()=>z(u));g(d,k)}var L=Reflect.getOwnPropertyDescriptor(l,i);if(L?.set&&L.set.call(f,u),!c){if(n&&typeof i=="string"){var A=r.get("length"),S=Number(i);Number.isInteger(S)&&S>=A.v&&g(A,S+1)}Ce(a)}return!0},ownKeys(l){b(a);var i=Reflect.ownKeys(l).filter(d=>{var c=r.get(d);return c===void 0||c.v!==m});for(var[u,f]of r)f.v!==m&&!(u in l)&&i.push(u);return i},setPrototypeOf(){pr()}})}var tt,Ct,Tt,Mt;function Tr(){if(tt===void 0){tt=window,Ct=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Tt=fe(t,"firstChild").get,Mt=fe(t,"nextSibling").get,Ze(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ze(r)&&(r.__t=void 0)}}function Ke(e=""){return document.createTextNode(e)}function ze(e){return Tt.call(e)}function Ge(e){return Mt.call(e)}function re(e,t){return ze(e)}function Rt(e,t){{var r=ze(e);return r instanceof Comment&&r.data===""?Ge(r):r}}function W(e,t=1,r=!1){let n=e;for(;t--;)n=Ge(n);return n}function Mr(){return!1}function Rr(e){_===null&&h===null&&vr(),h!==null&&(h.f&N)!==0&&_===null&&cr(),oe&&fr()}function Or(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function V(e,t,r,n=!0){var a=_;a!==null&&(a.f&$)!==0&&(e|=$);var s={ctx:I,deps:null,nodes_start:null,nodes_end:null,f:e|P,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{ce(s),s.f|=qe}catch(i){throw X(s),i}else t!==null&&Y(s);var o=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Be)===0;if(!o&&n&&(a!==null&&Or(s,a),h!==null&&(h.f&T)!==0)){var l=h;(l.effects??=[]).push(s)}return s}function Nr(e){const t=V(De,null,!1);return x(t,y),t.teardown=e,t}function Ar(e){Rr();var t=_.f,r=!h&&(t&j)!==0&&(t&qe)===0;if(r){var n=I;(n.e??=[]).push(e)}else return Ot(e)}function Ot(e){return V(Fe|pt,e,!1)}function Ir(e){ve.ensure();const t=V(ae,e,!0);return(r={})=>new Promise(n=>{r.outro?Ut(t,()=>{X(t),n(void 0)}):(X(t),n(void 0))})}function Lr(e){return V(Fe,e,!1)}function Ur(e){return V(je|Be,e,!0)}function Fr(e,t=0){return V(De|t,e,!0)}function Nt(e,t=[],r=[]){Pr(t,r,n=>{V(De,()=>e(...n.map(b)),!0)})}function Dr(e,t=0){var r=V(he|t,e,!0);return r}function Ae(e,t=!0){return V(j,e,!0,t)}function At(e){var t=e.teardown;if(t!==null){const r=oe,n=h;nt(!0),D(null);try{t.call(null)}finally{nt(r),D(n)}}}function It(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){r.ac?.abort(Ve);var n=r.next;(r.f&ae)!==0?r.parent=null:X(r,t),r=n}}function qr(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&j)===0&&X(t),t=r}}function X(e,t=!0){var r=!1;(t||(e.f&or)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Wr(e.nodes_start,e.nodes_end),r=!0),It(e,t&&!r),Ee(e,0),x(e,ie);var n=e.transitions;if(n!==null)for(const s of n)s.stop();At(e);var a=e.parent;a!==null&&a.first!==null&&Lt(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Wr(e,t){for(;e!==null;){var r=e===t?null:Ge(e);e.remove(),e=r}}function Lt(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Ut(e,t){var r=[];Ft(e,r,!0),Br(r,()=>{X(e),t&&t()})}function Br(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function Ft(e,t,r){if((e.f&$)===0){if(e.f^=$,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var a=n.next,s=(n.f&We)!==0||(n.f&j)!==0;Ft(n,t,s?r:!1),n=a}}}function jr(e){Dt(e,!0)}function Dt(e,t){if((e.f&$)!==0){e.f^=$,(e.f&y)===0&&(x(e,P),Y(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&We)!==0||(r.f&j)!==0;Dt(r,a?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let ne=!1;function rt(e){ne=e}let oe=!1;function nt(e){oe=e}let h=null,F=!1;function D(e){h=e}let _=null;function K(e){_=e}let B=null;function qt(e){h!==null&&(B===null?B=[e]:B.push(e))}let E=null,C=0,R=null;function Vr(e){R=e}let xe=1,de=0,Z=de;function st(e){Z=e}let H=!1;function Wt(){return++xe}function Se(e){var t=e.f;if((t&P)!==0)return!0;if((t&ee)!==0){var r=e.deps,n=(t&N)!==0;if(r!==null){var a,s,o=(t&ge)!==0,l=n&&_!==null&&!H,i=r.length;if((o||l)&&(_===null||(_.f&ie)===0)){var u=e,f=u.parent;for(a=0;a<i;a++)s=r[a],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=ge),l&&f!==null&&(f.f&N)===0&&(u.f^=N)}for(a=0;a<i;a++)if(s=r[a],Se(s)&&xt(s),s.wv>e.wv)return!0}(!n||_!==null&&!H)&&x(e,y)}return!1}function Bt(e,t,r=!0){var n=e.reactions;if(n!==null&&!B?.includes(e))for(var a=0;a<n.length;a++){var s=n[a];(s.f&T)!==0?Bt(s,t,!1):t===s&&(r?x(s,P):(s.f&y)!==0&&x(s,ee),Y(s))}}function jt(e){var t=E,r=C,n=R,a=h,s=H,o=B,l=I,i=F,u=Z,f=e.f;E=null,C=0,R=null,H=(f&N)!==0&&(F||!ne||h===null),h=(f&(j|ae))===0?e:null,B=null,be(e.ctx),F=!1,Z=++de,e.ac!==null&&(e.ac.abort(Ve),e.ac=null);try{e.f|=Re;var d=(0,e.fn)(),c=e.deps;if(E!==null){var v;if(Ee(e,C),c!==null&&C>0)for(c.length=C+E.length,v=0;v<E.length;v++)c[C+v]=E[v];else e.deps=c=E;if(!H||(f&T)!==0&&e.reactions!==null)for(v=C;v<c.length;v++)(c[v].reactions??=[]).push(e)}else c!==null&&C<c.length&&(Ee(e,C),c.length=C);if(wt()&&R!==null&&!F&&c!==null&&(e.f&(T|ee|P))===0)for(v=0;v<R.length;v++)Bt(R[v],e);return a!==null&&a!==e&&(de++,R!==null&&(n===null?n=R:n.push(...R))),(e.f&G)!==0&&(e.f^=G),d}catch(p){return br(p)}finally{e.f^=Re,E=t,C=r,R=n,h=a,H=s,B=o,be(l),F=i,Z=u}}function Hr(e,t){let r=t.reactions;if(r!==null){var n=er.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(t.f&T)!==0&&(E===null||!E.includes(t))&&(x(t,ee),(t.f&(N|ge))===0&&(t.f^=ge),yt(t),Ee(t,0))}function Ee(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Hr(e,r[n])}function ce(e){var t=e.f;if((t&ie)===0){x(e,y);var r=_,n=ne;_=e,ne=!0;try{(t&he)!==0?qr(e):It(e),At(e);var a=jt(e);e.teardown=typeof a=="function"?a:null,e.wv=xe;var s;ct&&wr&&(e.f&P)!==0&&e.deps}finally{ne=n,_=r}}}function b(e){var t=e.f,r=(t&T)!==0;if(h!==null&&!F){var n=_!==null&&(_.f&ie)!==0;if(!n&&!B?.includes(e)){var a=h.deps;if((h.f&Re)!==0)e.rv<de&&(e.rv=de,E===null&&a!==null&&a[C]===e?C++:E===null?E=[e]:(!H||!E.includes(e))&&E.push(e));else{(h.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[h]:s.includes(h)||s.push(h)}}}else if(r&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&N)===0&&(o.f^=N)}if(oe){if(J.has(e))return J.get(e);if(r){o=e;var i=o.v;return((o.f&y)===0&&o.reactions!==null||Vt(o))&&(i=Ye(o)),J.set(o,i),i}}else if(r){if(o=e,se?.has(o))return se.get(o);Se(o)&&xt(o)}if((e.f&G)!==0)throw e.v;return e.v}function Vt(e){if(e.v===m)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(J.has(t)||(t.f&T)!==0&&Vt(t))return!0;return!1}function Yr(e){var t=F;try{return F=!0,e()}finally{F=t}}const $r=-7169;function x(e,t){e.f=e.f&$r|t}function Kr(e){var t=h,r=_;D(null),K(null);try{return e()}finally{D(t),K(r)}}const Ht=new Set,Ie=new Set;function zr(e,t,r,n={}){function a(s){if(n.capture||ue.call(t,s),!s.cancelBubble)return Kr(()=>r?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?bt(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function Gr(e,t,r,n,a){var s={capture:n,passive:a},o=zr(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Nr(()=>{t.removeEventListener(e,o,s)})}function Yt(e){for(var t=0;t<e.length;t++)Ht.add(e[t]);for(var r of Ie)r(e)}function ue(e){var t=this,r=t.ownerDocument,n=e.type,a=e.composedPath?.()||[],s=a[0]||e.target,o=0,l=e.__root;if(l){var i=a.indexOf(l);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;i<=u&&(o=i)}if(s=a[o]||e.target,s!==t){Me(e,"currentTarget",{configurable:!0,get(){return s||r}});var f=h,d=_;D(null),K(null);try{for(var c,v=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var k=s["__"+n];if(k!=null&&(!s.disabled||e.target===s))if(vt(k)){var[L,...A]=k;L.apply(s,[e,...A])}else k.call(s,e)}catch(S){c?v.push(S):c=S}if(e.cancelBubble||p===t||p===null)break;s=p}if(c){for(let S of v)queueMicrotask(()=>{throw S});throw c}}finally{e.__root=t,delete e.currentTarget,D(f),K(d)}}}function Jr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function $t(e,t){var r=_;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function pe(e,t){var r=(t&Qt)!==0,n,a=!e.startsWith("<!>");return()=>{n===void 0&&(n=Jr(a?e:"<!>"+e),n=ze(n));var s=r||Ct?document.importNode(n,!0):n.cloneNode(!0);return $t(s,s),s}}function Kt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Ke();return e.append(t,r),$t(t,r),e}function Q(e,t){e!==null&&e.before(t)}const Zr=["touchstart","touchmove"];function Qr(e){return Zr.includes(e)}function Xr(e,t){return en(e,t)}const te=new Map;function en(e,{target:t,anchor:r,props:n={},events:a,context:s,intro:o=!0}){Tr();var l=new Set,i=d=>{for(var c=0;c<d.length;c++){var v=d[c];if(!l.has(v)){l.add(v);var p=Qr(v);t.addEventListener(v,ue,{passive:p});var k=te.get(v);k===void 0?(document.addEventListener(v,ue,{passive:p}),te.set(v,1)):te.set(v,k+1)}}};i(tr(Ht)),Ie.add(i);var u=void 0,f=Ir(()=>{var d=r??t.appendChild(Ke());return Ae(()=>{if(s){ke({});var c=I;c.c=s}a&&(n.$$events=a),u=e(d,n)||{},s&&Pe()}),()=>{for(var c of l){t.removeEventListener(c,ue);var v=te.get(c);--v===0?(document.removeEventListener(c,ue),te.delete(c)):te.set(c,v)}Ie.delete(i),d!==r&&d.parentNode?.removeChild(d)}});return tn.set(u,f),u}let tn=new WeakMap;function Je(e,t,r=!1){var n=e,a=null,s=null,o=m,l=r?We:0,i=!1;const u=(v,p=!0)=>{i=!0,c(p,v)};var f=null;function d(){f!==null&&(f.lastChild.remove(),n.before(f),f=null);var v=o?a:s,p=o?s:a;v&&jr(v),p&&Ut(p,()=>{o?s=null:a=null})}const c=(v,p)=>{if(o!==(o=v)){var k=Mr(),L=n;if(k&&(f=document.createDocumentFragment(),f.append(L=Ke())),o?a??=p&&Ae(()=>p(L)):s??=p&&Ae(()=>p(L)),k){var A=M,S=o?a:s,U=o?s:a;S&&A.skipped_effects.delete(S),U&&A.skipped_effects.add(U),A.add_callback(d)}else d()}};Dr(()=>{i=!1,t(u),i||c(null,null)},l)}const rn=Symbol("is custom element"),nn=Symbol("is html");function sn(e,t){var r=zt(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function an(e,t,r,n){var a=zt(e);a[t]!==(a[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&on(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function zt(e){return e.__attributes??={[rn]:e.nodeName.includes("-"),[nn]:e.namespaceURI===Xt}}var at=new Map;function on(e){var t=at.get(e.nodeName);if(t)return t;at.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=rr(n);for(var s in r)r[s].set&&t.push(s);n=dt(n)}return t}function it(e,t){return e===t||e?.[we]===t}function Le(e={},t,r,n){return Lr(()=>{var a,s;return Fr(()=>{a=s,s=[],Yr(()=>{e!==r(...s)&&(t(e,...s),a&&it(r(...a),e)&&t(null,...a))})}),()=>{bt(()=>{s&&it(r(...s),e)&&t(null,...s)})}}),e}const ot=globalThis.SharedWorker,lt=globalThis.localStorage,ln=globalThis.navigator.serviceWorker,O=MessagePort.prototype.postMessage;async function Ue(){const e=(await self.clients.matchAll({type:"window",includeUncontrolled:!0})).map(async r=>{const n=await function(a){let s=new MessageChannel;return new Promise(o=>{a.postMessage({type:"getPort",port:s.port2},[s.port2]),s.port1.onmessage=l=>{o(l.data)}})}(r);return await Gt(n),n}),t=Promise.race([Promise.any(e),new Promise((r,n)=>setTimeout(n,1e3,new TypeError("timeout")))]);try{return await t}catch(r){if(r instanceof AggregateError)throw console.error("bare-mux: failed to get a bare-mux SharedWorker MessagePort as all clients returned an invalid MessagePort."),new Error("All clients returned an invalid MessagePort.");return console.warn("bare-mux: failed to get a bare-mux SharedWorker MessagePort within 1s, retrying"),await Ue()}}function Gt(e){const t=new MessageChannel,r=new Promise((n,a)=>{t.port1.onmessage=s=>{s.data.type==="pong"&&n()},setTimeout(a,1500)});return O.call(e,{message:{type:"ping"},port:t.port2},[t.port2]),r}function ut(e,t){const r=new ot(e,"bare-mux-worker");return t&&ln.addEventListener("message",n=>{if(n.data.type==="getPort"&&n.data.port){console.debug("bare-mux: recieved request for port from sw");const a=new ot(e,"bare-mux-worker");O.call(n.data.port,a.port,[a.port])}}),r.port}let Te=null;function un(){if(Te===null){const e=new MessageChannel,t=new ReadableStream;let r;try{O.call(e.port1,t,[t]),r=!0}catch{r=!1}return Te=r,r}return Te}class fn{constructor(t){this.channel=new BroadcastChannel("bare-mux"),t instanceof MessagePort||t instanceof Promise?this.port=t:this.createChannel(t,!0)}createChannel(t,r){if(self.clients)this.port=Ue(),this.channel.onmessage=n=>{n.data.type==="refreshPort"&&(this.port=Ue())};else if(t&&SharedWorker){if(!t.startsWith("/")&&!t.includes("://"))throw new Error("Invalid URL. Must be absolute or start at the root.");this.port=ut(t,r),console.debug("bare-mux: setting localStorage bare-mux-path to",t),lt["bare-mux-path"]=t}else{if(!SharedWorker)throw new Error("Unable to get a channel to the SharedWorker.");{const n=lt["bare-mux-path"];if(console.debug("bare-mux: got localStorage bare-mux-path:",n),!n)throw new Error("Unable to get bare-mux workerPath from localStorage.");this.port=ut(n,r)}}}async sendMessage(t,r){this.port instanceof Promise&&(this.port=await this.port);try{await Gt(this.port)}catch{return console.warn("bare-mux: Failed to get a ping response from the worker within 1.5s. Assuming port is dead."),this.createChannel(),await this.sendMessage(t,r)}const n=new MessageChannel,a=[n.port2,...r||[]],s=new Promise((o,l)=>{n.port1.onmessage=i=>{const u=i.data;u.type==="error"?l(u.error):o(u)}});return O.call(this.port,{message:t,port:n.port2},a),await s}}function ft(e,t,r){console.error(`error while processing '${r}': `,t),e.postMessage({type:"error",error:t})}class cn{constructor(t){this.worker=new fn(t)}async getTransport(){return(await this.worker.sendMessage({type:"get"})).name}async setTransport(t,r,n){await this.setManualTransport(`
			const { default: BareTransport } = await import("${t}");
			return [BareTransport, "${t}"];
		`,r,n)}async setManualTransport(t,r,n){if(t==="bare-mux-remote")throw new Error("Use setRemoteTransport.");await this.worker.sendMessage({type:"set",client:{function:t,args:r}},n)}async setRemoteTransport(t,r){const n=new MessageChannel;n.port1.onmessage=async a=>{const s=a.data.port,o=a.data.message;if(o.type==="fetch")try{t.ready||await t.init(),await async function(l,i,u){const f=await u.request(new URL(l.fetch.remote),l.fetch.method,l.fetch.body,l.fetch.headers,null);if(!un()&&f.body instanceof ReadableStream){const d=new Response(f.body);f.body=await d.arrayBuffer()}f.body instanceof ReadableStream||f.body instanceof ArrayBuffer?O.call(i,{type:"fetch",fetch:f},[f.body]):O.call(i,{type:"fetch",fetch:f})}(o,s,t)}catch(l){ft(s,l,"fetch")}else if(o.type==="websocket")try{t.ready||await t.init(),await async function(l,i,u){const[f,d]=u.connect(new URL(l.websocket.url),l.websocket.protocols,l.websocket.requestHeaders,c=>{O.call(l.websocket.channel,{type:"open",args:[c]})},c=>{c instanceof ArrayBuffer?O.call(l.websocket.channel,{type:"message",args:[c]},[c]):O.call(l.websocket.channel,{type:"message",args:[c]})},(c,v)=>{O.call(l.websocket.channel,{type:"close",args:[c,v]})},c=>{O.call(l.websocket.channel,{type:"error",args:[c]})});l.websocket.channel.onmessage=c=>{c.data.type==="data"?f(c.data.data):c.data.type==="close"&&d(c.data.closeCode,c.data.closeReason)},O.call(i,{type:"websocket"})}(o,s,t)}catch(l){ft(s,l,"websocket")}},await this.worker.sendMessage({type:"set",client:{function:"bare-mux-remote",args:[n.port2,r]}},[n.port2])}getInnerPort(){return this.worker.port}}console.debug("bare-mux: running v2.1.7 (build c56d286)");class vn{#t;get configVersion(){return b(this.#t)}set configVersion(t){g(this.#t,t,!0)}#e;get useBare(){return b(this.#e)}set useBare(t){g(this.#e,t,!0)}#s;get wispProxyIndex(){return b(this.#s)}set wispProxyIndex(t){g(this.#s,t,!0)}#r;get wispCustomProxy(){return b(this.#r)}set wispCustomProxy(t){g(this.#r,t,!0)}#a;get bareProxyIndex(){return b(this.#a)}set bareProxyIndex(t){g(this.#a,t,!0)}#i;get bareCustomProxy(){return b(this.#i)}set bareCustomProxy(t){g(this.#i,t,!0)}#n;get probeTimeout(){return b(this.#n)}set probeTimeout(t){g(this.#n,t,!0)}constructor(){this.#t=w(1),this.#e=w(!1),this.#s=w(0),this.#r=w(""),this.#a=w(0),this.#i=w(""),this.#n=w(5e3)}}function dn(e){localStorage.setItem("config",JSON.stringify(e))}function hn(){const e=new vn;let t=localStorage.getItem("config");if(t==null)return e;let r=JSON.parse(t);if(r.configVersion==null||r.configVersion<e.configVersion)return e;for(let n in r)e[n]=r[n];return e}const Jt=z(hn());function pn(e){let t=new URL(e);return t.protocol=t.protocol==="http:"?"ws:":"wss:",t.toString()}function _n(e){return t=>{t.key==="Enter"&&e()}}class wn{#t;get url(){return b(this.#t)}set url(t){g(this.#t,t,!0)}#e;get iframeUrl(){return b(this.#e)}set iframeUrl(t){g(this.#e,t,!0)}constructor(){this.#t=w(""),this.#e=w("")}reloadIframe(){this.iframeUrl=this.uvConfig.prefix+this.uvConfig.encodeUrl(this.url)}setDestination(t){if(t===""){this.url="https://google.com";return}if(!t.includes(".")){this.url="https://google.com/search?q="+t;return}if(!t.startsWith("https://")&&!t.startsWith("http://")){this.url="https://"+t;return}this.url=t}async registerSW(){if(!navigator.serviceWorker)throw location.protocol!=="https:"&&!["localhost","127.0.0.1"].includes(location.hostname)?new Error("Service workers cannot be registered without https."):new Error("Your browser doesn't support service workers.");(await navigator.serviceWorker.getRegistrations()).some(t=>t.active!==null&&t.active.scriptURL==this.uvConfig.stockSW)||await navigator.serviceWorker.register(this.uvConfig.stockSW)}async startProxy(){const t=this.uvConfig.loc;this.bareMuxConnection==null&&(this.bareMuxConnection=new cn(t+"/baremux/worker.js")),await this.registerSW(),Jt.useBare?await this.bareMuxConnection.setTransport(t+"/baremod/index.mjs",["https://aluu.xyz/bare/"]):await this.bareMuxConnection.setTransport(t+"/libcurl/index.mjs",[{wisp:pn("wss://phantom.lol/wisp/")}]),this.reloadIframe()}}const q=z(new wn);var gn=(e,t)=>g(t,!1),bn=pe('<div class="fixed top-0 w-screen flex flex-row gap-1 z-50"><div><button class="btn btn-square" title="Back">￩</button> <button class="btn btn-square" title="Forward">￫</button> <button class="btn btn-square" title="Reload">⟳</button></div> <input type="text" class="input flex grow-1" id="urlBar"/> <div><button class="btn btn-square" title="Close proxy">×</button> <button class="btn btn-square" title="Close navbar">↑</button></div></div>'),mn=(e,t)=>g(t,!0),yn=pe('<button class="btn btn-square fixed top-0 right-1 z-50" title="Open navbar">↓</button>');function xn(e,t){ke(t,!0);let r=w(!1);var n=Kt(),a=Rt(n);{var s=l=>{var i=bn(),u=W(re(i),2),f=W(u,2),d=W(re(f),2);d.__click=[gn,r],Nt(()=>sn(u,q.url)),Q(l,i)},o=l=>{var i=yn();i.__click=[mn,r],Q(l,i)};Je(a,l=>{b(r)?l(s):l(o,!1)})}Q(e,n),Pe()}Yt(["click"]);var En=pe('<div class="bg-base-200 w-full h-full flex flex-col justify-center"><span class="loading loading-spinner loading-xl"></span></div>'),kn=pe('<div class="w-screen h-screen fixed top-0 left-0"><!> <iframe title="Proxy" class="w-full h-full"></iframe> <!></div>');function Pn(e,t){ke(t,!0);let r,n=w(!1);function a(){g(n,!0);const f=new URL(r.src).pathname;f.includes(q.uvConfig.prefix)&&(q.url=q.uvConfig.decodeUrl(f.slice(q.uvConfig.prefix.length)))}var s=kn(),o=re(s);{var l=f=>{var d=En();Q(f,d)};Je(o,f=>{b(n)||f(l)})}var i=W(o,2);Le(i,f=>r=f,()=>r);var u=W(i,2);xn(u,{}),Nt(()=>an(i,"src",q.iframeUrl)),Gr("load",i,a),Q(e,s),Pe()}var Sn=pe('<div class="w-screen h-screen flex flex-col items-center p-10"><img class="w-1/2 grow-1" src="img/corn.svg" alt="Corn Unblocked"/> <div class="flex flex-col grow-1 gap-10 w-full items-center"><input type="text" class="input w-1/2" title="Destination URL" placeholder="Enter a URL or search the web"/> <button class="btn" title="Start proxy">Start</button></div> <div class="flex flex-row w-1/3 justify-evenly"><button class="btn w-4/9" title="Open settings">Settings</button> <button class="btn w-4/9" title="Usage help">Help</button></div></div>');function Cn(e,t){ke(t,!0),Ar(()=>{dn(Jt)});let r=w(void 0),n=w(void 0),a=w(!1);function s(){q.setDestination(b(r).value),q.startProxy(),g(a,!0)}var o=Kt(),l=Rt(o);{var i=f=>{Le(Pn(f,{}),d=>g(n,d,!0),()=>b(n))},u=f=>{var d=Sn(),c=W(re(d),2),v=re(c),p=Er(()=>_n(s));v.__keydown=function(...U){b(p)?.apply(this,U)},Le(v,U=>g(r,U),()=>b(r));var k=W(v,2);k.__click=s;var L=W(c,2),A=re(L);A.__click=function(...U){window.open.bind(window,"https://sites.google.com/view/cornunblocked/help/usage")?.apply(this,U)};var S=W(A,2);S.__click=function(...U){window.open.bind(window,"https://sites.google.com/view/cornunblocked/help/usage")?.apply(this,U)},Q(f,d)};Je(l,f=>{b(a)?f(i):f(u,!1)})}Q(e,o),Pe()}Yt(["keydown","click"]);q.uvConfig=__uv$config;Xr(Cn,{target:document.getElementById("app")});
