(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Dr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Dr);const Fr=1,qr=2,Wr=16,jr=1,Vr=2,R=Symbol(),Hr="http://www.w3.org/1999/xhtml",Xt=!1;var _t=Array.isArray,$r=Array.prototype.indexOf,wt=Array.from,ot=Object.defineProperty,_e=Object.getOwnPropertyDescriptor,zr=Object.getOwnPropertyDescriptors,Yr=Object.prototype,Gr=Array.prototype,Zt=Object.getPrototypeOf,Lt=Object.isExtensible;function Kr(e){for(var t=0;t<e.length;t++)e[t]()}function Jr(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}function Xr(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const n of e)if(r.push(n),r.length===t)break;return r}const F=2,mt=4,gt=8,Me=16,Q=32,be=64,Qt=128,V=256,qe=512,U=1024,L=2048,fe=4096,H=8192,ce=16384,bt=32768,yt=65536,Bt=1<<17,Zr=1<<18,xt=1<<19,er=1<<20,at=1<<21,kt=1<<22,oe=1<<23,Pe=Symbol("$state"),Qr=Symbol("legacy props"),en=Symbol(""),Et=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function tn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function rn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function nn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function sn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function on(e){throw new Error("https://svelte.dev/e/effect_orphan")}function an(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ln(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function un(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let cn=!1;function tr(e){return e===this.v}function dn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function rr(e){return!dn(e,this.v)}let vn=!1,$=null;function We(e){$=e}function Oe(e,t=!1,r){$={p:$,c:null,e:null,s:e,x:null,l:null}}function Re(e){var t=$,r=t.e;if(r!==null){t.e=null;for(var n of r)pr(n)}return $=t.p,{}}function nr(){return!0}const hn=new WeakMap;function pn(e){var t=y;if(t===null)return b.f|=oe,e;if((t.f&bt)===0){if((t.f&Qt)===0)throw!t.parent&&e instanceof Error&&sr(e),e;t.b.error(e)}else Pt(e,t)}function Pt(e,t){for(;t!==null;){if((t.f&Qt)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&sr(e),e}function sr(e){const t=hn.get(e);t&&(ot(e,"message",{value:t.message}),ot(e,"stack",{value:t.stack}))}let je=[];function _n(){var e=je;je=[],Kr(e)}function ir(e){je.length===0&&queueMicrotask(_n),je.push(e)}function wn(){for(var e=y.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&tn(),e}function Je(e){var t=F|L,r=b!==null&&(b.f&F)!==0?b:null;return y===null||r!==null&&(r.f&V)!==0?t|=V:y.f|=xt,{ctx:$,deps:null,effects:null,equals:tr,f:t,fn:e,reactions:null,rv:0,v:R,wv:0,parent:r??y,ac:null}}function mn(e,t){let r=y;r===null&&rn();var n=r.b,i=void 0,s=Te(R),o=null,l=!b;return On(()=>{try{var u=e()}catch(d){u=Promise.reject(d)}var f=()=>u;i=o?.then(f,f)??Promise.resolve(u),o=i;var c=O,h=n.pending;l&&(n.update_pending_count(1),h||c.increment());const a=(d,v=void 0)=>{o=null,h||c.activate(),v?v!==Et&&(s.f|=oe,He(s,v)):((s.f&oe)!==0&&(s.f^=oe),He(s,d)),l&&(n.update_pending_count(-1),h||c.decrement()),lr()};if(i.then(a,d=>a(null,d||"unknown")),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(u=>{function f(c){function h(){c===i?u(s):f(i)}c.then(h,h)}f(i)})}function Xe(e){const t=Je(e);return kr(t),t}function gn(e){const t=Je(e);return t.equals=rr,t}function or(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)G(t[r])}}function bn(e){for(var t=e.parent;t!==null;){if((t.f&F)===0)return t;t=t.parent}return null}function St(e){var t,r=y;ne(bn(e));try{or(e),t=Sr(e)}finally{ne(r)}return t}function ar(e){var t=St(e);if(e.equals(t)||(e.v=t,e.wv=Er()),!de)if(me!==null)me.set(e,e.v);else{var r=(te||(e.f&V)!==0)&&e.deps!==null?fe:U;N(e,r)}}function yn(e,t,r){const n=Je;if(t.length===0){r(e.map(n));return}var i=O,s=y,o=xn(),l=wn();Promise.all(t.map(u=>mn(u))).then(u=>{i?.activate(),o();try{r([...e.map(n),...u])}catch(f){(s.f&ce)===0&&Pt(f,s)}i?.deactivate(),lr()}).catch(u=>{l.error(u)})}function xn(){var e=y,t=b,r=$;return function(){ne(e),K(t),We(r)}}function lr(){ne(null),K(null),We(null)}const Le=new Set;let O=null,me=null,Dt=new Set,Ve=[];function ur(){const e=Ve.shift();Ve.length>0&&queueMicrotask(ur),e()}let ke=[],Ct=null,lt=!1;class Ce{#t=new Map;#e=new Map;#n=new Set;#r=0;#i=null;#o=!1;#s=[];#f=[];#l=[];#a=[];#u=[];skipped_effects=new Set;#d(t){ke=[];var r=null;if(Le.size>1){r=new Map,me=new Map;for(const[s,o]of this.#t)r.set(s,{v:s.v,wv:s.wv}),s.v=o;for(const s of Le)if(s!==this)for(const[o,l]of s.#e)r.has(o)||(r.set(o,{v:o.v,wv:o.wv}),o.v=l)}for(const s of t)this.#v(s);if(this.#s.length===0&&this.#r===0){var n=this.#l,i=this.#a;this.#l=[],this.#a=[],this.#u=[],this.#c(),Ft(n),Ft(i),this.#i?.resolve()}else{for(const s of this.#l)N(s,U);for(const s of this.#a)N(s,U);for(const s of this.#u)N(s,U)}if(r){for(const[s,{v:o,wv:l}]of r)s.wv<=l&&(s.v=o);me=null}for(const s of this.#s)Se(s);for(const s of this.#f)Se(s);this.#s=[],this.#f=[]}#v(t){t.f^=U;for(var r=t.first;r!==null;){var n=r.f,i=(n&(Q|be))!==0,s=i&&(n&U)!==0,o=s||(n&H)!==0||this.skipped_effects.has(r);if(!o&&r.fn!==null){if(i)r.f^=U;else if((n&mt)!==0)this.#a.push(r);else if(Qe(r))if((n&kt)!==0){var l=r.b?.pending?this.#f:this.#s;l.push(r)}else(r.f&Me)!==0&&this.#u.push(r),Se(r);var u=r.first;if(u!==null){r=u;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)r=f.next,f=f.parent}}capture(t,r){this.#e.has(t)||this.#e.set(t,r),this.#t.set(t,t.v)}activate(){O=this}deactivate(){O=null;for(const t of Dt)if(Dt.delete(t),t(),O!==null)break}neuter(){this.#o=!0}flush(){ke.length>0?this.flush_effects():this.#c(),O===this&&(this.#r===0&&Le.delete(this),this.deactivate())}flush_effects(){var t=we;lt=!0;try{var r=0;for(qt(!0);ke.length>0;){if(r++>1e3){var n,i;kn()}this.#d(ke),ae.clear()}}finally{lt=!1,qt(t),Ct=null}}#c(){if(!this.#o)for(const t of this.#n)t();this.#n.clear()}increment(){this.#r+=1}decrement(){if(this.#r-=1,this.#r===0){for(const t of this.#l)N(t,L),re(t);for(const t of this.#a)N(t,L),re(t);for(const t of this.#u)N(t,L),re(t);this.#l=[],this.#a=[],this.flush()}else this.deactivate()}add_callback(t){this.#n.add(t)}settled(){return(this.#i??=Jr()).promise}static ensure(t=!0){if(O===null){const r=O=new Ce;Le.add(O),t&&Ce.enqueue(()=>{O===r&&r.flush()})}return O}static enqueue(t){Ve.length===0&&queueMicrotask(ur),Ve.unshift(t)}}function kn(){try{an()}catch(e){Pt(e,Ct)}}function Ft(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(ce|H))===0&&Qe(n)){var i=Ye;if(Se(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?br(n):n.fn=null),Ye>i&&(n.f&er)!==0)break}}for(;r<t;r+=1)re(e[r])}}function re(e){for(var t=Ct=e;t.parent!==null;){t=t.parent;var r=t.f;if(lt&&t===y&&(r&Me)!==0)return;if((r&(be|Q))!==0){if((r&U)===0)return;t.f^=U}}ke.push(t)}const ae=new Map;function Te(e,t){var r={f:0,v:e,reactions:null,equals:tr,rv:0,wv:0};return r}function S(e,t){const r=Te(e);return kr(r),r}function En(e,t=!1,r=!0){const n=Te(e);return t||(n.equals=rr),n}function k(e,t,r=!1){b!==null&&(!Y||(b.f&Bt)!==0)&&nr()&&(b.f&(F|Me|kt|Bt))!==0&&!X?.includes(e)&&fn();let n=r?J(t):t;return He(e,n)}function He(e,t){if(!e.equals(t)){var r=e.v;de?ae.set(e,t):ae.set(e,r),e.v=t,Ce.ensure().capture(e,r),(e.f&F)!==0&&((e.f&L)!==0&&St(e),N(e,(e.f&V)===0?U:fe)),e.wv=Er(),fr(e,L),y!==null&&(y.f&U)!==0&&(y.f&(Q|be))===0&&(W===null?Nn([e]):W.push(e))}return t}function tt(e){k(e,e.v+1)}function fr(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,i=0;i<n;i++){var s=r[i],o=s.f;(o&L)===0&&N(s,t),(o&F)!==0?fr(s,fe):(o&L)===0&&re(s)}}function J(e){if(typeof e!="object"||e===null||Pe in e)return e;const t=Zt(e);if(t!==Yr&&t!==Gr)return e;var r=new Map,n=_t(e),i=S(0),s=le,o=l=>{if(le===s)return l();var u=b,f=le;K(null),jt(s);var c=l();return K(u),jt(f),c};return n&&r.set("length",S(e.length)),new Proxy(e,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&ln();var c=r.get(u);return c===void 0?c=o(()=>{var h=S(f.value);return r.set(u,h),h}):k(c,f.value,!0),!0},deleteProperty(l,u){var f=r.get(u);if(f===void 0){if(u in l){const c=o(()=>S(R));r.set(u,c),tt(i)}}else k(f,R),tt(i);return!0},get(l,u,f){if(u===Pe)return e;var c=r.get(u),h=u in l;if(c===void 0&&(!h||_e(l,u)?.writable)&&(c=o(()=>{var d=J(h?l[u]:R),v=S(d);return v}),r.set(u,c)),c!==void 0){var a=w(c);return a===R?void 0:a}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var c=r.get(u);c&&(f.value=w(c))}else if(f===void 0){var h=r.get(u),a=h?.v;if(h!==void 0&&a!==R)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return f},has(l,u){if(u===Pe)return!0;var f=r.get(u),c=f!==void 0&&f.v!==R||Reflect.has(l,u);if(f!==void 0||y!==null&&(!c||_e(l,u)?.writable)){f===void 0&&(f=o(()=>{var a=c?J(l[u]):R,d=S(a);return d}),r.set(u,f));var h=w(f);if(h===R)return!1}return c},set(l,u,f,c){var h=r.get(u),a=u in l;if(n&&u==="length")for(var d=f;d<h.v;d+=1){var v=r.get(d+"");v!==void 0?k(v,R):d in l&&(v=o(()=>S(R)),r.set(d+"",v))}if(h===void 0)(!a||_e(l,u)?.writable)&&(h=o(()=>S(void 0)),k(h,J(f)),r.set(u,h));else{a=h.v!==R;var _=o(()=>J(f));k(h,_)}var p=Reflect.getOwnPropertyDescriptor(l,u);if(p?.set&&p.set.call(c,f),!a){if(n&&typeof u=="string"){var E=r.get("length"),m=Number(u);Number.isInteger(m)&&m>=E.v&&k(E,m+1)}tt(i)}return!0},ownKeys(l){w(i);var u=Reflect.ownKeys(l).filter(h=>{var a=r.get(h);return a===void 0||a.v!==R});for(var[f,c]of r)c.v!==R&&!(f in l)&&u.push(f);return u},setPrototypeOf(){un()}})}var ut,cr,dr,vr;function Pn(){if(ut===void 0){ut=window,cr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;dr=_e(t,"firstChild").get,vr=_e(t,"nextSibling").get,Lt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Lt(r)&&(r.__t=void 0)}}function Ue(e=""){return document.createTextNode(e)}function $e(e){return dr.call(e)}function Ze(e){return vr.call(e)}function C(e,t){return $e(e)}function ft(e,t){{var r=$e(e);return r instanceof Comment&&r.data===""?Ze(r):r}}function T(e,t=1,r=!1){let n=e;for(;t--;)n=Ze(n);return n}function Sn(e){e.textContent=""}function hr(){return!1}function Cn(e){y===null&&b===null&&on(),b!==null&&(b.f&V)!==0&&y===null&&sn(),de&&nn()}function Tn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ee(e,t,r,n=!0){var i=y;i!==null&&(i.f&H)!==0&&(e|=H);var s={ctx:$,deps:null,nodes_start:null,nodes_end:null,f:e|L,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Se(s),s.f|=bt}catch(u){throw G(s),u}else t!==null&&re(s);var o=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&xt)===0;if(!o&&n&&(i!==null&&Tn(s,i),b!==null&&(b.f&F)!==0)){var l=b;(l.effects??=[]).push(s)}return s}function An(e){const t=ee(gt,null,!1);return N(t,U),t.teardown=e,t}function ze(e){Cn();var t=y.f,r=!b&&(t&Q)!==0&&(t&bt)===0;if(r){var n=$;(n.e??=[]).push(e)}else return pr(e)}function pr(e){return ee(mt|er,e,!1)}function Mn(e){Ce.ensure();const t=ee(be,e,!0);return(r={})=>new Promise(n=>{r.outro?At(t,()=>{G(t),n(void 0)}):(G(t),n(void 0))})}function _r(e){return ee(mt,e,!1)}function On(e){return ee(kt|xt,e,!0)}function wr(e,t=0){return ee(gt|t,e,!0)}function ue(e,t=[],r=[]){yn(t,r,n=>{ee(gt,()=>e(...n.map(w)),!0)})}function Tt(e,t=0){var r=ee(Me|t,e,!0);return r}function ge(e,t=!0){return ee(Q,e,!0,t)}function mr(e){var t=e.teardown;if(t!==null){const r=de,n=b;Wt(!0),K(null);try{t.call(null)}finally{Wt(r),K(n)}}}function gr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){r.ac?.abort(Et);var n=r.next;(r.f&be)!==0?r.parent=null:G(r,t),r=n}}function Rn(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Q)===0&&G(t),t=r}}function G(e,t=!0){var r=!1;(t||(e.f&Zr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Un(e.nodes_start,e.nodes_end),r=!0),gr(e,t&&!r),Ge(e,0),N(e,ce);var n=e.transitions;if(n!==null)for(const s of n)s.stop();mr(e);var i=e.parent;i!==null&&i.first!==null&&br(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Un(e,t){for(;e!==null;){var r=e===t?null:Ze(e);e.remove(),e=r}}function br(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function At(e,t){var r=[];Mt(e,r,!0),yr(r,()=>{G(e),t&&t()})}function yr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function Mt(e,t,r){if((e.f&H)===0){if(e.f^=H,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&yt)!==0||(n.f&Q)!==0;Mt(n,t,s?r:!1),n=i}}}function Ot(e){xr(e,!0)}function xr(e,t){if((e.f&H)!==0){e.f^=H,(e.f&U)===0&&(N(e,L),re(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&yt)!==0||(r.f&Q)!==0;xr(r,i?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let we=!1;function qt(e){we=e}let de=!1;function Wt(e){de=e}let b=null,Y=!1;function K(e){b=e}let y=null;function ne(e){y=e}let X=null;function kr(e){b!==null&&(X===null?X=[e]:X.push(e))}let I=null,D=0,W=null;function Nn(e){W=e}let Ye=1,Ae=0,le=Ae;function jt(e){le=e}let te=!1;function Er(){return++Ye}function Qe(e){var t=e.f;if((t&L)!==0)return!0;if((t&fe)!==0){var r=e.deps,n=(t&V)!==0;if(r!==null){var i,s,o=(t&qe)!==0,l=n&&y!==null&&!te,u=r.length;if((o||l)&&(y===null||(y.f&ce)===0)){var f=e,c=f.parent;for(i=0;i<u;i++)s=r[i],(o||!s?.reactions?.includes(f))&&(s.reactions??=[]).push(f);o&&(f.f^=qe),l&&c!==null&&(c.f&V)===0&&(f.f^=V)}for(i=0;i<u;i++)if(s=r[i],Qe(s)&&ar(s),s.wv>e.wv)return!0}(!n||y!==null&&!te)&&N(e,U)}return!1}function Pr(e,t,r=!0){var n=e.reactions;if(n!==null&&!X?.includes(e))for(var i=0;i<n.length;i++){var s=n[i];(s.f&F)!==0?Pr(s,t,!1):t===s&&(r?N(s,L):(s.f&U)!==0&&N(s,fe),re(s))}}function Sr(e){var t=I,r=D,n=W,i=b,s=te,o=X,l=$,u=Y,f=le,c=e.f;I=null,D=0,W=null,te=(c&V)!==0&&(Y||!we||b===null),b=(c&(Q|be))===0?e:null,X=null,We(e.ctx),Y=!1,le=++Ae,e.ac!==null&&(e.ac.abort(Et),e.ac=null);try{e.f|=at;var h=(0,e.fn)(),a=e.deps;if(I!==null){var d;if(Ge(e,D),a!==null&&D>0)for(a.length=D+I.length,d=0;d<I.length;d++)a[D+d]=I[d];else e.deps=a=I;if(!te||(c&F)!==0&&e.reactions!==null)for(d=D;d<a.length;d++)(a[d].reactions??=[]).push(e)}else a!==null&&D<a.length&&(Ge(e,D),a.length=D);if(nr()&&W!==null&&!Y&&a!==null&&(e.f&(F|fe|L))===0)for(d=0;d<W.length;d++)Pr(W[d],e);return i!==null&&i!==e&&(Ae++,W!==null&&(n===null?n=W:n.push(...W))),(e.f&oe)!==0&&(e.f^=oe),h}catch(v){return pn(v)}finally{e.f^=at,I=t,D=r,W=n,b=i,te=s,X=o,We(l),Y=u,le=f}}function In(e,t){let r=t.reactions;if(r!==null){var n=$r.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&F)!==0&&(I===null||!I.includes(t))&&(N(t,fe),(t.f&(V|qe))===0&&(t.f^=qe),or(t),Ge(t,0))}function Ge(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)In(e,r[n])}function Se(e){var t=e.f;if((t&ce)===0){N(e,U);var r=y,n=we;y=e,we=!0;try{(t&Me)!==0?Rn(e):gr(e),mr(e);var i=Sr(e);e.teardown=typeof i=="function"?i:null,e.wv=Ye;var s;Xt&&vn&&(e.f&L)!==0&&e.deps}finally{we=n,y=r}}}function w(e){var t=e.f,r=(t&F)!==0;if(b!==null&&!Y){var n=y!==null&&(y.f&ce)!==0;if(!n&&!X?.includes(e)){var i=b.deps;if((b.f&at)!==0)e.rv<Ae&&(e.rv=Ae,I===null&&i!==null&&i[D]===e?D++:I===null?I=[e]:(!te||!I.includes(e))&&I.push(e));else{(b.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[b]:s.includes(b)||s.push(b)}}}else if(r&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&V)===0&&(o.f^=V)}if(de){if(ae.has(e))return ae.get(e);if(r){o=e;var u=o.v;return((o.f&U)===0&&o.reactions!==null||Cr(o))&&(u=St(o)),ae.set(o,u),u}}else if(r){if(o=e,me?.has(o))return me.get(o);Qe(o)&&ar(o)}if((e.f&oe)!==0)throw e.v;return e.v}function Cr(e){if(e.v===R)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ae.has(t)||(t.f&F)!==0&&Cr(t))return!0;return!1}function Tr(e){var t=Y;try{return Y=!0,e()}finally{Y=t}}const Ln=-7169;function N(e,t){e.f=e.f&Ln|t}let Vt=!1;function Bn(){Vt||(Vt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ar(e){var t=b,r=y;K(null),ne(null);try{return e()}finally{K(t),ne(r)}}function Dn(e,t,r,n=r){e.addEventListener(t,()=>Ar(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Bn()}const Mr=new Set,ct=new Set;function Fn(e,t,r,n={}){function i(s){if(n.capture||Ee.call(t,s),!s.cancelBubble)return Ar(()=>r?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ir(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function Rt(e,t,r,n,i){var s={capture:n,passive:i},o=Fn(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&An(()=>{t.removeEventListener(e,o,s)})}function Ut(e){for(var t=0;t<e.length;t++)Mr.add(e[t]);for(var r of ct)r(e)}function Ee(e){var t=this,r=t.ownerDocument,n=e.type,i=e.composedPath?.()||[],s=i[0]||e.target,o=0,l=e.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;u<=f&&(o=u)}if(s=i[o]||e.target,s!==t){ot(e,"currentTarget",{configurable:!0,get(){return s||r}});var c=b,h=y;K(null),ne(null);try{for(var a,d=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+n];if(_!=null&&(!s.disabled||e.target===s))if(_t(_)){var[p,...E]=_;p.apply(s,[e,...E])}else _.call(s,e)}catch(m){a?d.push(m):a=m}if(e.cancelBubble||v===t||v===null)break;s=v}if(a){for(let m of d)queueMicrotask(()=>{throw m});throw a}}finally{e.__root=t,delete e.currentTarget,K(c),ne(h)}}}function qn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function dt(e,t){var r=y;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function se(e,t){var r=(t&jr)!==0,n=(t&Vr)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=qn(s?e:"<!>"+e),r||(i=$e(i)));var o=n||cr?document.importNode(i,!0):i.cloneNode(!0);if(r){var l=$e(o),u=o.lastChild;dt(l,u)}else dt(o,o);return o}}function Wn(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Ue();return e.append(t,r),dt(t,r),e}function Z(e,t){e!==null&&e.before(t)}const jn=["touchstart","touchmove"];function Vn(e){return jn.includes(e)}function De(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Hn(e,t){return $n(e,t)}const pe=new Map;function $n(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:o=!0}){Pn();var l=new Set,u=h=>{for(var a=0;a<h.length;a++){var d=h[a];if(!l.has(d)){l.add(d);var v=Vn(d);t.addEventListener(d,Ee,{passive:v});var _=pe.get(d);_===void 0?(document.addEventListener(d,Ee,{passive:v}),pe.set(d,1)):pe.set(d,_+1)}}};u(wt(Mr)),ct.add(u);var f=void 0,c=Mn(()=>{var h=r??t.appendChild(Ue());return ge(()=>{if(s){Oe({});var a=$;a.c=s}i&&(n.$$events=i),f=e(h,n)||{},s&&Re()}),()=>{for(var a of l){t.removeEventListener(a,Ee);var d=pe.get(a);--d===0?(document.removeEventListener(a,Ee),pe.delete(a)):pe.set(a,d)}ct.delete(u),h!==r&&h.parentNode?.removeChild(h)}});return zn.set(f,c),f}let zn=new WeakMap;function Nt(e,t,r=!1){var n=e,i=null,s=null,o=R,l=r?yt:0,u=!1;const f=(d,v=!0)=>{u=!0,a(v,d)};var c=null;function h(){c!==null&&(c.lastChild.remove(),n.before(c),c=null);var d=o?i:s,v=o?s:i;d&&Ot(d),v&&At(v,()=>{o?s=null:i=null})}const a=(d,v)=>{if(o!==(o=d)){var _=hr(),p=n;if(_&&(c=document.createDocumentFragment(),c.append(p=Ue())),o?i??=v&&ge(()=>v(p)):s??=v&&ge(()=>v(p)),_){var E=O,m=o?i:s,g=o?s:i;m&&E.skipped_effects.delete(m),g&&E.skipped_effects.add(g),E.add_callback(h)}else h()}};Tt(()=>{u=!1,t(f),u||a(null,null)},l)}function Yn(e,t){return t}function Gn(e,t,r){for(var n=e.items,i=[],s=t.length,o=0;o<s;o++)Mt(t[o].e,i,!0);var l=s>0&&i.length===0&&r!==null;if(l){var u=r.parentNode;Sn(u),u.append(r),n.clear(),z(e,t[0].prev,t[s-1].next)}yr(i,()=>{for(var f=0;f<s;f++){var c=t[f];l||(n.delete(c.k),z(e,c.prev,c.next)),G(c.e,!l)}})}function Kn(e,t,r,n,i,s=null){var o=e,l={flags:t,items:new Map,first:null};{var u=e;o=u.appendChild(Ue())}var f=null,c=!1,h=new Map,a=gn(()=>{var p=r();return _t(p)?p:p==null?[]:wt(p)}),d,v;function _(){Jn(v,d,l,h,o,i,t,n,r),s!==null&&(d.length===0?f?Ot(f):f=ge(()=>s(o)):f!==null&&At(f,()=>{f=null}))}Tt(()=>{v??=y,d=w(a);var p=d.length;if(!(c&&p===0)){c=p===0;var E,m,g,A;if(hr()){var P=new Set,ie=O;for(m=0;m<p;m+=1){g=d[m],A=n(g,m);var ve=l.items.get(A)??h.get(A);ve?Or(ve,g,m):(E=Rr(null,l,null,null,g,A,m,i,t,r,!0),h.set(A,E)),P.add(A)}for(const[B,q]of l.items)P.has(B)||ie.skipped_effects.add(q.e);ie.add_callback(_)}else _();w(a)}})}function Jn(e,t,r,n,i,s,o,l,u){var f=t.length,c=r.items,h=r.first,a=h,d,v=null,_=[],p=[],E,m,g,A;for(A=0;A<f;A+=1){if(E=t[A],m=l(E,A),g=c.get(m),g===void 0){var P=n.get(m);if(P!==void 0){n.delete(m),c.set(m,P);var ie=v?v.next:a;z(r,v,P),z(r,P,ie),rt(P,ie,i),v=P}else{var ve=a?a.e.nodes_start:i;v=Rr(ve,r,v,v===null?r.first:v.next,E,m,A,s,o,u)}c.set(m,v),_=[],p=[],a=v.next;continue}if(Or(g,E,A),(g.e.f&H)!==0&&Ot(g.e),g!==a){if(d!==void 0&&d.has(g)){if(_.length<p.length){var B=p[0],q;v=B.prev;var ye=_[0],he=_[_.length-1];for(q=0;q<_.length;q+=1)rt(_[q],B,i);for(q=0;q<p.length;q+=1)d.delete(p[q]);z(r,ye.prev,he.next),z(r,v,ye),z(r,he,B),a=B,v=he,A-=1,_=[],p=[]}else d.delete(g),rt(g,a,i),z(r,g.prev,g.next),z(r,g,v===null?r.first:v.next),z(r,v,g),v=g;continue}for(_=[],p=[];a!==null&&a.k!==m;)(a.e.f&H)===0&&(d??=new Set).add(a),p.push(a),a=a.next;if(a===null)continue;g=a}_.push(g),v=g,a=g.next}if(a!==null||d!==void 0){for(var xe=d===void 0?[]:wt(d);a!==null;)(a.e.f&H)===0&&xe.push(a),a=a.next;var Ne=xe.length;if(Ne>0){var Ie=f===0?i:null;Gn(r,xe,Ie)}}e.first=r.first&&r.first.e,e.last=v&&v.e;for(var et of n.values())G(et.e);n.clear()}function Or(e,t,r,n){He(e.v,t),e.i=r}function Rr(e,t,r,n,i,s,o,l,u,f,c){var h=(u&Fr)!==0,a=(u&Wr)===0,d=h?a?En(i,!1,!1):Te(i):i,v=(u&qr)===0?o:Te(o),_={i:v,v:d,k:s,a:null,e:null,prev:r,next:n};try{if(e===null){var p=document.createDocumentFragment();p.append(e=Ue())}return _.e=ge(()=>l(e,d,v,f),cn),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?c||(t.first=_):(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function rt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==null&&s!==n;){var o=Ze(s);i.before(s),s=o}}function z(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ur(e,t){var r=void 0,n;Tt(()=>{r!==(r=t())&&(n&&(G(n),n=null),r&&(n=ge(()=>{_r(()=>r(e))})))})}function Xn(e,t,r){var n=e==null?"":""+e;return n===""?null:n}function Zn(e,t,r,n,i,s){var o=e.__className;if(o!==r||o===void 0){var l=Xn(r);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}return s}const Qn=Symbol("is custom element"),es=Symbol("is html");function ts(e,t){var r=Nr(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Fe(e,t,r,n){var i=Nr(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[en]=r),r==null?e.removeAttribute(t):typeof r!="string"&&rs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Nr(e){return e.__attributes??={[Qn]:e.nodeName.includes("-"),[es]:e.namespaceURI===Hr}}var Ht=new Map;function rs(e){var t=Ht.get(e.nodeName);if(t)return t;Ht.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=zr(n);for(var s in r)r[s].set&&t.push(s);n=Zt(n)}return t}function Ir(e,t,r=t){var n=new WeakSet;Dn(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=nt(e)?st(s):s,r(s),O!==null&&n.add(O),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),Tr(t)==null&&e.value&&(r(nt(e)?st(e.value):e.value),O!==null&&n.add(O)),wr(()=>{var i=t();e===document.activeElement&&n.has(O)||nt(e)&&i===st(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function nt(e){var t=e.type;return t==="number"||t==="range"}function st(e){return e===""?null:+e}function $t(e,t){return e===t||e?.[Pe]===t}function It(e={},t,r,n){return _r(()=>{var i,s;return wr(()=>{i=s,s=[],Tr(()=>{e!==r(...s)&&(t(e,...s),i&&$t(r(...i),e)&&t(null,...i))})}),()=>{ir(()=>{s&&$t(r(...s),e)&&t(null,...s)})}}),e}let Be=!1;function ns(e){var t=Be;try{return Be=!1,[e(),Be]}finally{Be=t}}function ss(e,t,r,n){var i=n,s=!0,o=()=>(s&&(s=!1,i=n),i),l;{var u=Pe in e||Qr in e;l=_e(e,t)?.set??(u&&t in e?p=>e[t]=p:void 0)}var f,c=!1;[f,c]=ns(()=>e[t]);var h;if(h=()=>{var p=e[t];return p===void 0?o():(s=!0,p)},l){var a=e.$$legacy;return function(p,E){return arguments.length>0?((!E||a||c)&&l(E?h():p),p):h()}}var d=!1,v=Je(()=>(d=!1,h()));w(v);var _=y;return function(p,E){if(arguments.length>0){const m=E?w(v):J(p);return k(v,m),d=!0,i!==void 0&&(i=m),p}return de&&d||(_.f&ce)!==0?v.v:w(v)}}let is=class{#t;get configVersion(){return w(this.#t)}set configVersion(t){k(this.#t,t,!0)}#e;get useBare(){return w(this.#e)}set useBare(t){k(this.#e,t,!0)}#n;get wispSelectedProxy(){return w(this.#n)}set wispSelectedProxy(t){k(this.#n,t,!0)}#r;get wispCustomProxy(){return w(this.#r)}set wispCustomProxy(t){k(this.#r,t,!0)}#i;get bareSelectedProxy(){return w(this.#i)}set bareSelectedProxy(t){k(this.#i,t,!0)}#o;get bareCustomProxy(){return w(this.#o)}set bareCustomProxy(t){k(this.#o,t,!0)}#s;get probeTimeout(){return w(this.#s)}set probeTimeout(t){k(this.#s,t,!0)}constructor(){this.#t=S(2),this.#e=S(!1),this.#n=S("auto"),this.#r=S(""),this.#i=S("auto"),this.#o=S(""),this.#s=S(5e3)}};function os(e){localStorage.setItem("config",JSON.stringify({configVersion:e.configVersion,useBare:e.useBare,wispSelectedProxy:e.wispSelectedProxy,wispCustomProxy:e.wispCustomProxy,bareSelectedProxy:e.bareSelectedProxy,bareCustomProxy:e.bareCustomProxy,probeTimeout:e.probeTimeout}))}function as(){const e=new is;let t=localStorage.getItem("config");if(t==null)return e;let r=JSON.parse(t);if(r.configVersion==null||r.configVersion<e.configVersion)return e;for(const n in r)e[n]=r[n];return e}const x=J(as()),vt={auto:"Auto",custom:"Custom","https://aluu.xyz/bare/":"Alu 1","https://freemathhw.xyz/bare/":"Alu 2","https://canvaslogin.org/bare/":"Alu 3","https://tnlnda.xyz/bare/":"Alu 4","https://incog.works/bare/":"Incognito 1","https://math.mathpuns.lol/bare/":"Incognito 2","https://math.americahistory.online/bare/":"Incognito 3","https://english.geniuslecture.club/bare/":"Incognito 4","https://definitelyscience.com/bare/":"Definitely Science 1","https://onlinegames.ro/bare/":"Definitely Science 2","https://mages.io/bare/":"Definitely Science 3","https://lichology.com/bare/":"Definitely Science 4","https://kazwire.com/bare/":"Kazwire"},ht={auto:"Auto",custom:"Custom","wss://aluu.xyz/wisp/":"Alu 1","wss://freemathhw.xyz/wisp/":"Alu 2","wss://canvaslogin.org/wisp/":"Alu 3","wss://tnlnda.xyz/wisp/":"Alu 4","wss://incog.works/wisp/":"Incognito 1","wss://math.mathpuns.lol/wisp/":"Incognito 2","wss://math.americahistory.online/wisp/":"Incognito 3","wss://english.geniuslecture.club/wisp/":"Incognito 4","wss://definitelyscience.com/wisp/":"Definitely Science 1","wss://onlinegames.ro/wisp/":"Definitely Science 2","wss://mages.io/wisp/":"Definitely Science 3","wss://lichology.com/wisp/":"Definitely Science 4","wss://anura.pro/":"Anura 1","wss://adoptmy.baby/":"Anura 2","wss://wallstjournal.click/":"Anura 3","wss://mexicoon.top/":"Anura 4","wss://onlineosdev.nl/":"Anura 5","wss://swordartii.online/":"Anura 6","wss://phantom.lol/wisp/":"Phantom","wss://wisp.mercurywork.shop/":"Mercury","wss://quantumchemistry.club/wisp/":"Terbium2 1","wss://explorechemistry.online/wisp/":"Terbium2 2","wss://webmath.help/wisp/":"Terbium2 3","wss://radiusproxy.app/wisp/":"Radius 1","wss://radiusproxy.app/adblock/":"Radius 1 (Adblock)","wss://radiusowski.site/wisp/":"Radius 2","wss://radiusowski.site/adblock/":"Radius 2 (Adblock)"},zt=["I'm fine?","Icl ts pmo","Get back to work brochacho","Bugs should be expected","Free and open-source","Krish you owe me $10","Try the improved top-right navbar dropdown!","Made with love by zeroxoneafour","How's Ivey still alive bro"];var ls=se("<li><button> </button></li>"),us=(e,t)=>t(!1),fs=(e,t)=>t(!1),cs=se('<dialog class="modal z-50"><div class="modal-box flex flex-col items-center gap-5 h-1/2"><p class="text-4xl">Settings</p> <div class="flex flex-col items-center grow-1 justify-center w-1/1"><div class="grid grid-cols-2 gap-5 w-1/1"><p class="flex items-center justify-center">Proxy Backend</p> <div class="dropdown"><div tabindex="0" role="button" class="btn m-1 w-1/1"> </div> <ul class="dropdown-content menu bg-base-100 rounded-box p-2 shadow-sm w-1/1"><li><button>Wisp</button></li> <li><button>Bare</button></li></ul></div> <p class="flex items-center justify-center">Proxy Server</p> <div class="dropdown"><div tabindex="0" role="button" class="btn m-1 w-1/1"> </div> <ul class="dropdown-content menu bg-base-100 rounded-box p-2 shadow-sm w-1/1 block overflow-y-scroll max-h-30"></ul></div> <p class="flex items-center justify-center">Custom Proxy URL</p> <input class="input w-1/1"/></div></div> <button class="btn">Close</button></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');function ds(e,t){Oe(t,!0);let r=ss(t,"isConfigOpen"),n=S(void 0);ze(()=>{os(x)}),ze(()=>{r()?w(n).showModal():w(n).close()});var i=cs(),s=C(i),o=T(C(s),2),l=C(o),u=T(C(l),2),f=C(u),c=C(f),h=T(f,2),a=C(h),d=C(a);d.__click=()=>{x.useBare=!1,document.activeElement.blur()};var v=T(a,2),_=C(v);_.__click=()=>{x.useBare=!0,document.activeElement.blur()};var p=T(u,4),E=C(p),m=C(E),g=T(E,2);Kn(g,21,()=>Object.entries(x.useBare?vt:ht),Yn,(B,q)=>{var ye=Xe(()=>Xr(w(q),2));let he=()=>w(ye)[0],xe=()=>w(ye)[1];var Ne=ls(),Ie=C(Ne);Ie.__click=()=>{x.useBare?x.bareSelectedProxy=he():x.wispSelectedProxy=he(),document.activeElement.blur()};var et=C(Ie);ue(()=>De(et,xe())),Z(B,Ne)});var A=T(p,4),P=T(o,2);P.__click=[us,r];var ie=T(s,2),ve=C(ie);ve.__click=[fs,r],It(i,B=>k(n,B),()=>w(n)),ue(()=>{De(c,x.useBare?"Bare":"Wisp"),De(m,x.useBare?vt[x.bareSelectedProxy]:ht[x.wispSelectedProxy])}),Rt("close",i,()=>r(!1)),Ir(A,()=>x.useBare?x.bareCustomProxy:x.wispCustomProxy,B=>{x.useBare?x.bareCustomProxy=B:x.wispCustomProxy=B}),Z(e,i),Re()}Ut(["click"]);const Yt=globalThis.SharedWorker,Gt=globalThis.localStorage,vs=globalThis.navigator.serviceWorker,j=MessagePort.prototype.postMessage;async function pt(){const e=(await self.clients.matchAll({type:"window",includeUncontrolled:!0})).map(async r=>{const n=await function(i){let s=new MessageChannel;return new Promise(o=>{i.postMessage({type:"getPort",port:s.port2},[s.port2]),s.port1.onmessage=l=>{o(l.data)}})}(r);return await Lr(n),n}),t=Promise.race([Promise.any(e),new Promise((r,n)=>setTimeout(n,1e3,new TypeError("timeout")))]);try{return await t}catch(r){if(r instanceof AggregateError)throw console.error("bare-mux: failed to get a bare-mux SharedWorker MessagePort as all clients returned an invalid MessagePort."),new Error("All clients returned an invalid MessagePort.");return console.warn("bare-mux: failed to get a bare-mux SharedWorker MessagePort within 1s, retrying"),await pt()}}function Lr(e){const t=new MessageChannel,r=new Promise((n,i)=>{t.port1.onmessage=s=>{s.data.type==="pong"&&n()},setTimeout(i,1500)});return j.call(e,{message:{type:"ping"},port:t.port2},[t.port2]),r}function Kt(e,t){const r=new Yt(e,"bare-mux-worker");return t&&vs.addEventListener("message",n=>{if(n.data.type==="getPort"&&n.data.port){console.debug("bare-mux: recieved request for port from sw");const i=new Yt(e,"bare-mux-worker");j.call(n.data.port,i.port,[i.port])}}),r.port}let it=null;function hs(){if(it===null){const e=new MessageChannel,t=new ReadableStream;let r;try{j.call(e.port1,t,[t]),r=!0}catch{r=!1}return it=r,r}return it}class ps{constructor(t){this.channel=new BroadcastChannel("bare-mux"),t instanceof MessagePort||t instanceof Promise?this.port=t:this.createChannel(t,!0)}createChannel(t,r){if(self.clients)this.port=pt(),this.channel.onmessage=n=>{n.data.type==="refreshPort"&&(this.port=pt())};else if(t&&SharedWorker){if(!t.startsWith("/")&&!t.includes("://"))throw new Error("Invalid URL. Must be absolute or start at the root.");this.port=Kt(t,r),console.debug("bare-mux: setting localStorage bare-mux-path to",t),Gt["bare-mux-path"]=t}else{if(!SharedWorker)throw new Error("Unable to get a channel to the SharedWorker.");{const n=Gt["bare-mux-path"];if(console.debug("bare-mux: got localStorage bare-mux-path:",n),!n)throw new Error("Unable to get bare-mux workerPath from localStorage.");this.port=Kt(n,r)}}}async sendMessage(t,r){this.port instanceof Promise&&(this.port=await this.port);try{await Lr(this.port)}catch{return console.warn("bare-mux: Failed to get a ping response from the worker within 1.5s. Assuming port is dead."),this.createChannel(),await this.sendMessage(t,r)}const n=new MessageChannel,i=[n.port2,...r||[]],s=new Promise((o,l)=>{n.port1.onmessage=u=>{const f=u.data;f.type==="error"?l(f.error):o(f)}});return j.call(this.port,{message:t,port:n.port2},i),await s}}function Jt(e,t,r){console.error(`error while processing '${r}': `,t),e.postMessage({type:"error",error:t})}class _s{constructor(t){this.worker=new ps(t)}async getTransport(){return(await this.worker.sendMessage({type:"get"})).name}async setTransport(t,r,n){await this.setManualTransport(`
			const { default: BareTransport } = await import("${t}");
			return [BareTransport, "${t}"];
		`,r,n)}async setManualTransport(t,r,n){if(t==="bare-mux-remote")throw new Error("Use setRemoteTransport.");await this.worker.sendMessage({type:"set",client:{function:t,args:r}},n)}async setRemoteTransport(t,r){const n=new MessageChannel;n.port1.onmessage=async i=>{const s=i.data.port,o=i.data.message;if(o.type==="fetch")try{t.ready||await t.init(),await async function(l,u,f){const c=await f.request(new URL(l.fetch.remote),l.fetch.method,l.fetch.body,l.fetch.headers,null);if(!hs()&&c.body instanceof ReadableStream){const h=new Response(c.body);c.body=await h.arrayBuffer()}c.body instanceof ReadableStream||c.body instanceof ArrayBuffer?j.call(u,{type:"fetch",fetch:c},[c.body]):j.call(u,{type:"fetch",fetch:c})}(o,s,t)}catch(l){Jt(s,l,"fetch")}else if(o.type==="websocket")try{t.ready||await t.init(),await async function(l,u,f){const[c,h]=f.connect(new URL(l.websocket.url),l.websocket.protocols,l.websocket.requestHeaders,a=>{j.call(l.websocket.channel,{type:"open",args:[a]})},a=>{a instanceof ArrayBuffer?j.call(l.websocket.channel,{type:"message",args:[a]},[a]):j.call(l.websocket.channel,{type:"message",args:[a]})},(a,d)=>{j.call(l.websocket.channel,{type:"close",args:[a,d]})},a=>{j.call(l.websocket.channel,{type:"error",args:[a]})});l.websocket.channel.onmessage=a=>{a.data.type==="data"?c(a.data.data):a.data.type==="close"&&h(a.data.closeCode,a.data.closeReason)},j.call(u,{type:"websocket"})}(o,s,t)}catch(l){Jt(s,l,"websocket")}},await this.worker.sendMessage({type:"set",client:{function:"bare-mux-remote",args:[n.port2,r]}},[n.port2])}getInnerPort(){return this.worker.port}}console.debug("bare-mux: running v2.1.7 (build c56d286)");function ws(e){let t=new URL(e);return t.protocol=t.protocol==="http:"?"ws:":"wss:",t.toString()}function Br(e){return t=>{t.key==="Enter"&&e()}}class ms{#t;get wispUrl(){return w(this.#t)}set wispUrl(t){k(this.#t,t,!0)}#e;get bareUrl(){return w(this.#e)}set bareUrl(t){k(this.#e,t,!0)}constructor(){this.#t=S(""),this.#e=S("")}async probeBare(){let t=[];for(const r in vt){let n=r;n==="auto"||n==="custom"||t.push(new Promise((i,s)=>{setTimeout(()=>{s("Failed to fetch bare on "+n)},x.probeTimeout),fetch(n).then(o=>{o.status==200?i(n):s("Bare returned error code "+o.status+" on url "+n)})}))}await Promise.any(t).then(r=>{this.bareUrl=r})}async probeWisp(){let t=[];for(const r in ht){let n=r;n==="auto"||n==="custom"||t.push(new Promise((i,s)=>{const o=new WebSocket(n);setTimeout(()=>{o.readyState==WebSocket.OPEN?(o.close(),i(n)):(o.close(),s("Failed to open websocket on "+n))},x.probeTimeout),o.onopen=()=>{o.close(),i(n)}}))}await Promise.any(t).then(r=>{this.wispUrl=r})}}const Ke=J(new ms);class gs{#t;get isProxyOpen(){return w(this.#t)}set isProxyOpen(t){k(this.#t,t,!0)}#e;get url(){return w(this.#e)}set url(t){k(this.#e,t,!0)}#n;get iframeUrl(){return w(this.#n)}set iframeUrl(t){k(this.#n,t,!0)}#r;get proxyUrl(){return w(this.#r)}set proxyUrl(t){k(this.#r,t)}constructor(){this.#t=S(!1),this.#e=S(""),this.#n=S(""),this.#r=Xe(()=>x.useBare?x.bareSelectedProxy==="auto"?Ke.bareUrl:x.bareSelectedProxy==="custom"?x.bareCustomProxy:x.bareSelectedProxy:x.wispSelectedProxy==="auto"?Ke.wispUrl:x.wispSelectedProxy==="custom"?x.wispCustomProxy:x.wispSelectedProxy)}reloadIframe(){this.iframeUrl=this.uvConfig.prefix+this.uvConfig.encodeUrl(this.url)}setDestination(t){if(t===""){this.url="https://duckduckgo.com";return}if(!t.includes(".")||t.includes(" ")){this.url="https://duckduckgo.com/?q="+t;return}if(!t.startsWith("https://")&&!t.startsWith("http://")){this.url="https://"+t;return}this.url=t}async registerSW(){if(!navigator.serviceWorker)throw location.protocol!=="https:"&&!["localhost","127.0.0.1"].includes(location.hostname)?new Error("Service workers cannot be registered without https."):new Error("Your browser doesn't support service workers.");await navigator.serviceWorker.register(this.uvConfig.stockSW)}async startProxy(){const t=this.uvConfig.loc;this.bareMuxConnection==null&&(this.bareMuxConnection=new _s(t+"/baremux/worker.js")),await this.registerSW(),x.useBare?await this.bareMuxConnection.setTransport(t+"/baremod/index.mjs",[this.proxyUrl]):await this.bareMuxConnection.setTransport(t+"/libcurl/index.mjs",[{wisp:ws(this.proxyUrl)}]),this.reloadIframe()}}const M=J(new gs);class bs{constructor(){this.history=[],this.idx=-1}addToHistory(t){this.getCurrent()!==t&&(this.idx+=1,this.history.length!==0&&(this.history=this.history.slice(0,this.idx)),this.history.push(t))}getCurrent(){return this.history[this.idx]}goForward(){return this.idx>=this.history.length-1?null:(this.idx+=1,this.getCurrent())}goBackward(){return this.idx<=0?null:(this.idx-=1,this.getCurrent())}}var ys=(e,t,r)=>t(r.goBackward()),xs=(e,t,r)=>t(r.goForward()),ks=(e,t)=>t.iframe.contentWindow.location.reload(),Es=(e,t)=>k(t,!1),Ps=se('<div><button class="btn btn-square" title="Back">￩</button> <button class="btn btn-square" title="Forward">￫</button> <button class="btn btn-square" title="Reload">⟳</button></div> <input type="text" class="input flex grow-1" placeholder="Enter a URL or search the web" title="URL Bar"/> <div><button class="btn btn-square" title="Close proxy">×</button> <button class="btn btn-square" title="Close navbar">↑</button></div>',1),Ss=(e,t)=>{k(t,!0)},Cs=se('<button class="btn btn-square pointer-events-auto" title="Open navbar">↓</button>'),Ts=se("<div><!></div>");function As(e,t){Oe(t,!0);let r=S(!1),n=S(void 0),i=new bs;ze(()=>{i.addToHistory(M.url)});function s(c){c!=null&&(M.url=c,M.reloadIframe())}var o=Ts();Rt("blur",ut,()=>k(r,!1));var l=C(o);{var u=c=>{var h=Ps(),a=ft(h),d=C(a);d.__click=[ys,s,i];var v=T(d,2);v.__click=[xs,s,i];var _=T(v,2);_.__click=[ks,t];var p=T(a,2),E=Xe(()=>Br(()=>{M.setDestination(w(n).value),M.reloadIframe()}));p.__keydown=function(...P){w(E)?.apply(this,P)},Ur(p,()=>P=>{P.focus(),P.select()}),It(p,P=>k(n,P),()=>w(n));var m=T(p,2),g=C(m);g.__click=()=>M.isProxyOpen=!1;var A=T(g,2);A.__click=[Es,r],ue(()=>ts(p,M.url)),Z(c,h)},f=c=>{var h=Cs();h.__click=[Ss,r],Z(c,h)};Nt(l,c=>{w(r)?c(u):c(f,!1)})}ue(()=>Zn(o,1,`fixed top-0 ${w(r)?"w-screen":"right-0 pointer-events-none"} flex flex-row gap-1 z-50 p-2`)),Z(e,o),Re()}Ut(["click","keydown"]);var Ms=se('<div class="bg-base-200 w-full h-full flex flex-col items-center justify-center gap-20"><span class="loading loading-spinner loading-xl"></span> <p> </p></div>'),Os=se('<div class="w-screen h-screen fixed top-0 left-0"><!> <iframe title="Proxy" class="w-full h-full"></iframe> <!></div>');function Rs(e,t){Oe(t,!0);let r=S(void 0),n=S(!1);const i="accelerometer ambient-light-sensor attribution-reporting autoplay bluetooth browsing-topics camera compute-pressure cross-origin-isolated display-capture document-domain encrypted-media fullscreen gamepad geolocation gyroscope hid identity-credentials-get idle-detection local-fonts magnetometer microphone midi otp-credentials payment picture-in-picture publickey-credentials-create publickey-credentials-get screen-wake-lock serial speaker-selection storage-access usb web-share window-management xr-spatial-tracking",s="allow-popups allow-popups-to-escape-sandbox allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-presentation allow-same-origin allow-scripts allow-storage-access-by-user-activation";function o(){const a=w(r).contentWindow.location.pathname;a.includes(M.uvConfig.prefix)&&(k(n,!0),M.url=M.uvConfig.decodeUrl(a.slice(M.uvConfig.prefix.length)))}var l=Os(),u=C(l);{var f=a=>{var d=Ms(),v=T(C(d),2),_=C(v);ue(p=>De(_,p),[()=>zt[Math.floor(Math.random()*zt.length)]]),Z(a,d)};Nt(u,a=>{w(n)||a(f)})}var c=T(u,2);Fe(c,"allow",i),Fe(c,"sandbox",s),It(c,a=>k(r,a),()=>w(r));var h=T(c,2);As(h,{get iframe(){return w(r)}}),ue(()=>Fe(c,"src",M.iframeUrl)),Rt("load",c,o),Z(e,l),Re()}var Us=(e,t)=>k(t,!0),Ns=se('<!> <div class="w-screen h-screen flex flex-col items-center p-10 gap-[5vh]"><picture class="w-3/4 min-w-60 max-h-1/3 grow-1"><source srcset="img/corn-dark.svg" media="(prefers-color-scheme: dark)" class="w-full h-full"/> <img class="w-full h-full" src="img/corn.svg" alt="Corn Unblocked"/></picture> <div class="flex flex-col grow-1 gap-[5vh] w-full items-center justify-center"><input type="text" class="input w-1/2 min-w-40" title="Destination URL" placeholder="Enter a URL or search the web"/> <span class="tooltip w-1/8 min-w-30"><button class="btn w-1/1 pointer-events-auto" title="Start proxy">Start</button></span></div> <div class="flex flex-row w-1/3 min-w-40 justify-evenly"><button class="btn w-4/9" title="Open settings">Settings</button> <button class="btn w-4/9" title="Usage help">Help</button></div> <footer class="mt-10 text-xs text-center">©2025 Corn Unblocked under the <a href="https://github.com/corn-unblocked/cornng-frontend/blob/master/LICENSE">GNU AGPL v3.0</a></footer></div>',1);function Is(e,t){Oe(t,!0),ze(()=>{x.useBare&&x.bareSelectedProxy==="auto"?Ke.probeBare():x.wispSelectedProxy==="auto"&&Ke.probeWisp()});let r=S(""),n=S(!1);function i(){M.proxyUrl!==""&&(M.setDestination(w(r)),M.isProxyOpen=!0,M.startProxy(),k(r,""))}var s=Wn(),o=ft(s);{var l=f=>{Rs(f,{})},u=f=>{var c=Ns(),h=ft(c);ds(h,{get isConfigOpen(){return w(n)},set isConfigOpen(P){k(n,P,!0)}});var a=T(h,2),d=T(C(a),2),v=C(d),_=Xe(()=>Br(i));v.__keydown=function(...P){w(_)?.apply(this,P)},Ur(v,()=>P=>{P.focus()});var p=T(v,2),E=C(p);E.__click=i;var m=T(d,2),g=C(m);g.__click=[Us,n];var A=T(g,2);A.__click=function(...P){window.open.bind(window,"https://sites.google.com/view/cornunblocked/help/usage")?.apply(this,P)},ue(()=>{Fe(p,"data-tip",M.proxyUrl===""?"Proxy URL not found! Go to settings and configure proxy server":""),E.disabled=M.proxyUrl===""}),Ir(v,()=>w(r),P=>k(r,P)),Z(f,c)};Nt(o,f=>{M.isProxyOpen?f(l):f(u,!1)})}Z(e,s),Re()}Ut(["keydown","click"]);M.uvConfig=__uv$config;Hn(Is,{target:document.getElementById("app")});
